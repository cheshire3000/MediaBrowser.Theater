<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:viewModels="clr-namespace:MediaBrowser.Theater.Presentation.ViewModels;assembly=MediaBrowser.Theater.Presentation"
                    xmlns:controls="clr-namespace:MediaBrowser.Theater.Presentation.Controls;assembly=MediaBrowser.Theater.Presentation"
                    xmlns:osd="clr-namespace:MediaBrowser.Plugins.DefaultTheme.Osd">

    <Style TargetType="Border" x:Key="MediaInfoTextBorder">
        <Setter Property="VerticalAlignment" Value="Center" />
        <Setter Property="HorizontalAlignment" Value="Left" />
        <Setter Property="CornerRadius" Value="3" />
        <Setter Property="Padding" Value="9 3 9 3" />
        
        <Setter Property="Background">
            <Setter.Value>
                <LinearGradientBrush SpreadMethod="Reflect" ColorInterpolationMode="SRgbLinearInterpolation" StartPoint="0,0" EndPoint="0,1" >
                    <GradientStop Color="#d6484848" Offset="0" />
                    <GradientStop Color="#a6222222" Offset="1" />
                </LinearGradientBrush>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="Image" x:Key="CommunityRatingImage">
        <Setter Property="Stretch" Value="Uniform"/>
        <Setter Property="Height" Value="24" />
        <Setter Property="VerticalAlignment" Value="Center" />
    </Style>

    <Style TargetType="Image" x:Key="CommunityRatingImageFull" BasedOn="{StaticResource CommunityRatingImage}">
        <Setter Property="Source" Value="Images/starFull.png" />
    </Style>
    <Style TargetType="Image" x:Key="CommunityRatingImageHalf" BasedOn="{StaticResource CommunityRatingImage}">
        <Setter Property="Source" Value="Images/starHalf.png" />
    </Style>
    <Style TargetType="Image" x:Key="CommunityRatingImageEmpty" BasedOn="{StaticResource CommunityRatingImage}">
        <Setter Property="Source" Value="Images/starEmpty.png" />
    </Style>
    <Style TargetType="Image" x:Key="LikeImage" BasedOn="{StaticResource CommunityRatingImage}">
        <Setter Property="Source" Value="Images/like.png" />
    </Style>
    <Style TargetType="Image" x:Key="DislikeImage" BasedOn="{StaticResource CommunityRatingImage}">
        <Setter Property="Source" Value="Images/dislike.png" />
    </Style>
    <Style TargetType="Image" x:Key="FavoriteImage" BasedOn="{StaticResource CommunityRatingImage}">
        <Setter Property="Source" Value="Images/favorite.png" />
    </Style>
    <Style TargetType="Image" x:Key="RottenImage" BasedOn="{StaticResource CommunityRatingImage}">
        <Setter Property="Source" Value="Images/rotten.png" />
    </Style>
    <Style TargetType="Image" x:Key="FreshImage" BasedOn="{StaticResource CommunityRatingImage}">
        <Setter Property="Source" Value="Images/fresh.png" />
    </Style>

    <Style x:Key="ResumeProgressBar" TargetType="{x:Type ProgressBar}" >
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ProgressBar}">
                    <Grid MinHeight="14" MinWidth="200" Background="{TemplateBinding Background}">
                        <Border x:Name="PART_Track" />
                        <Border x:Name="PART_Indicator" HorizontalAlignment="Left" Background="{TemplateBinding Foreground}" Opacity="{TemplateBinding Opacity}"/>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Setter Property="Foreground" Value="{StaticResource MediaBrowserAccent}"/>
        <Setter Property="Background" Value="#a6000000"/>
        <Setter Property="Opacity" Value="0.7"/>
    </Style>

    <!--Default TextBox style. -->
    <Style TargetType="TextBox" x:Key="SearchTextBoxStyle">
        <Setter Property="FontSize" Value="{StaticResource Heading1FontSize}"/>
        <Setter Property="FontFamily" Value="{StaticResource Heading1FontFamily}"/>
        <Setter Property="FontWeight" Value="{StaticResource Heading1FontWeight}"/>
        <Setter Property="Foreground" Value="{StaticResource Heading1Foreground}"/>
        <Setter Property="TextWrapping" Value="NoWrap" />
    </Style>

    <ControlTemplate x:Key="FullscreenVideoOsdTemplate">
        <osd:FullscreenVideoTransportOsd DataContext="{Binding}"></osd:FullscreenVideoTransportOsd>
    </ControlTemplate>

    <!--Override PageContentTemplate-->
    <ControlTemplate x:Key="PageContentTemplate">

        <Grid>
            <Grid VerticalAlignment="Stretch" HorizontalAlignment="Stretch">

                <Grid.RowDefinitions>
                    <RowDefinition Height="auto"></RowDefinition>
                    <RowDefinition Height="*"></RowDefinition>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"></ColumnDefinition>
                    <ColumnDefinition Width="*"></ColumnDefinition>
                </Grid.ColumnDefinitions>

                <StackPanel VerticalAlignment="Top" HorizontalAlignment="Left" Margin="35 25 0 0" Grid.Column="0" Grid.Row="0" Orientation="Horizontal">
                    <StackPanel.Style>
                        <Style TargetType="{x:Type StackPanel}">
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding ShowGlobalContent}" Value="False">
                                    <Setter Property="Visibility" Value="Collapsed" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </StackPanel.Style>

                    <Button Margin="0 8 20 0" Command="{Binding MasterCommands.GoBackCommand}" VerticalAlignment="Top" KeyboardNavigation.DirectionalNavigation="Continue" KeyboardNavigation.IsTabStop="False">

                        <Button.Style>
                            <Style TargetType="{x:Type Button}" BasedOn="{StaticResource ImageButton}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding ShowBackButton}" Value="False">
                                        <Setter Property="Visibility" Value="Collapsed" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>

                        <Grid>
                            <Grid Width="36" Height="36">
                                <Path Style="{DynamicResource IconPath}" Data="M50.5,4.7500001C25.232973,4.75 4.75,25.232973 4.7500001,50.5 4.75,75.767029 25.232973,96.25 50.5,96.25 75.767029,96.25 96.25,75.767029 96.25,50.5 96.25,25.232973 75.767029,4.75 50.5,4.7500001z M50.5,0C78.390381,0 101,22.609621 101,50.5 101,78.390381 78.390381,101 50.5,101 22.609621,101 0,78.390381 0,50.5 0,22.609621 22.609621,0 50.5,0z" Stretch="Fill" Name="Stroke" Visibility="Visible" />
                            </Grid>
                            <Path Style="{DynamicResource IconPath}" Data="F1M-800.86,-1379.55L-781.99,-1360.68 -782.125,-1360.54 -792.356,-1360.54 -809.825,-1378.01 -815.075,-1383.26 -792.494,-1405.84 -781.99,-1405.84 -800.86,-1386.97 -751.074,-1386.97 -751.074,-1379.55 -800.86,-1379.55z" Stretch="Uniform" Width="20" Height="20" Margin="0,0,0,0" RenderTransformOrigin="0.5,0.5">
                                <Path.RenderTransform>
                                    <TransformGroup>
                                        <TransformGroup.Children>
                                            <RotateTransform Angle="0" />
                                            <ScaleTransform ScaleX="1" ScaleY="1" />
                                        </TransformGroup.Children>
                                    </TransformGroup>
                                </Path.RenderTransform>
                            </Path>
                        </Grid>
                    </Button>

                    <StackPanel Orientation="Horizontal" Margin="0 5 0 0">
                        <StackPanel.Style>
                            <Style TargetType="{x:Type StackPanel}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding ShowDefaultPageTitle}" Value="False">
                                        <Setter Property="Visibility" Value="Collapsed" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding ShowLogoImage}" Value="True">
                                        <Setter Property="Visibility" Value="Collapsed" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </StackPanel.Style>

                        <TextBlock Style="{StaticResource TextBlockStyle}" Text="MEDIA"></TextBlock>
                        <TextBlock Style="{StaticResource TextBlockStyle}" Text="BROWSER" Foreground="{StaticResource MediaBrowserAccent}"></TextBlock>
                    </StackPanel>

                    <Image Source="{Binding LogoImage}" Margin="0 10 0 0" MaxHeight="70" MaxWidth="550" VerticalAlignment="Top" HorizontalAlignment="Left" Stretch="Uniform">
                        <Image.Style>
                            <Style TargetType="{x:Type Image}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding ShowLogoImage}" Value="False">
                                        <Setter Property="Visibility" Value="Collapsed" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding ShowDefaultPageTitle}" Value="True">
                                        <Setter Property="Visibility" Value="Collapsed" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Image.Style>
                    </Image>

                    <TextBlock Text="{Binding PageTitle}" Margin="0 5 0 0">
                        <TextBlock.Style>
                            <Style TargetType="{x:Type TextBlock}" BasedOn="{StaticResource TextBlockStyle}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding ShowLogoImage}" Value="True">
                                        <Setter Property="Visibility" Value="Collapsed" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding ShowDefaultPageTitle}" Value="True">
                                        <Setter Property="Visibility" Value="Collapsed" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </TextBlock.Style>
                    </TextBlock>
                </StackPanel>

                <Grid Grid.Column="1" Panel.ZIndex="3" Grid.Row="0" VerticalAlignment="Top" HorizontalAlignment="Right" Margin="0 15 35 0">
                    <Grid.Style>
                        <Style TargetType="{x:Type Grid}">
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding ShowGlobalContent}" Value="False">
                                    <Setter Property="Visibility" Value="Collapsed" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </Grid.Style>

                    <StackPanel x:Name="HeaderContent" Orientation="Horizontal" Margin="0 15 0 0">

                        <Button Margin="0 0 30 0" Command="{Binding MasterCommands.RestartServerCommand}">

                            <Button.Style>
                                <Style TargetType="{x:Type Button}" BasedOn="{StaticResource ImageButton}">
                                    <Setter Property="Visibility" Value="Collapsed" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding MasterCommands.ShowRestartServerNotification}" Value="True">
                                            <Setter Property="Visibility" Value="Visible" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>

                            <Grid>
                                <Grid Width="36" Height="36" />
                                <Path Fill="#4BB3DD" Data="F1M1350.51,1910.79C1339.79,1910.79,1330.8,1918.3,1328.49,1928.33L1319.8,1928.23 1331.56,1947.22 1343.76,1928.52 1335.7,1928.42C1337.8,1922.21 1343.61,1917.71 1350.51,1917.71 1359.17,1917.71 1366.22,1924.76 1366.22,1933.41 1366.22,1942.08 1359.17,1949.12 1350.51,1949.12 1347.31,1949.12 1344.34,1948.15 1341.85,1946.5L1338.07,1952.29C1341.64,1954.66 1345.92,1956.04 1350.51,1956.04 1362.99,1956.04 1373.14,1945.89 1373.14,1933.41 1373.14,1920.94 1362.99,1910.79 1350.51,1910.79z" Stretch="Uniform" Width="26" Height="26" Margin="0,0,0,0" RenderTransformOrigin="0.5,0.5">
                                </Path>
                            </Grid>
                        </Button>

                        <Button Margin="0 0 30 0" Command="{Binding MasterCommands.RestartApplicationCommand}">

                            <Button.Style>
                                <Style TargetType="{x:Type Button}" BasedOn="{StaticResource ImageButton}">
                                    <Setter Property="Visibility" Value="Collapsed" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding MasterCommands.ShowRestartApplicationNotification}" Value="True">
                                            <Setter Property="Visibility" Value="Visible" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>

                            <Grid>
                                <Grid Width="36" Height="36" />
                                <Path Fill="{StaticResource MediaBrowserAccent}" Data="F1M1350.51,1910.79C1339.79,1910.79,1330.8,1918.3,1328.49,1928.33L1319.8,1928.23 1331.56,1947.22 1343.76,1928.52 1335.7,1928.42C1337.8,1922.21 1343.61,1917.71 1350.51,1917.71 1359.17,1917.71 1366.22,1924.76 1366.22,1933.41 1366.22,1942.08 1359.17,1949.12 1350.51,1949.12 1347.31,1949.12 1344.34,1948.15 1341.85,1946.5L1338.07,1952.29C1341.64,1954.66 1345.92,1956.04 1350.51,1956.04 1362.99,1956.04 1373.14,1945.89 1373.14,1933.41 1373.14,1920.94 1362.99,1910.79 1350.51,1910.79z" Stretch="Uniform" Width="26" Height="26" Margin="0,0,0,0" RenderTransformOrigin="0.5,0.5">
                                </Path>
                            </Grid>
                        </Button>

                        <Button Margin="0 0 30 0" Command="{Binding MasterCommands.FullscreenVideoCommand}" Background="BlueViolet">

                            <Button.Style>
                                <Style TargetType="{x:Type Button}" BasedOn="{StaticResource ImageButton}">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsOnFullscreenVideo}" Value="True">
                                            <Setter Property="Visibility" Value="Collapsed" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsPlayingInternalVideo}" Value="False">
                                            <Setter Property="Visibility" Value="Collapsed" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>

                            <Grid>
                                <Grid Width="36" Height="36" />
                                <Path Style="{DynamicResource IconPath}" Data="M17.009024,34.375001L21.992001,39.360691 11.299349,50.047187 17.61442,56.365 0,56.365 0,38.75008 6.3150315,45.065395z M39.355614,34.371001L50.047157,45.065394 56.365002,38.750081 56.365002,56.365 38.750103,56.365 45.065346,50.047185 34.371002,39.360691z M38.750103,0L56.365002,0 56.365002,17.614279 50.049858,11.295294 39.355614,21.992999 34.371002,17.00889 45.065346,6.3150749z M0,0L17.61482,0 11.299606,6.3151321 21.990002,17.009045 17.009411,21.991999 6.3151751,11.295397 0,17.614439z" Stretch="Uniform" Width="26" Height="26" Margin="0,0,0,0" RenderTransformOrigin="0.5,0.5">
                                </Path>
                            </Grid>
                        </Button>

                        <!--Now Playing Icon-->
                        <Button Margin="0 0 30 0" Command="{Binding MasterCommands.NowPlayingCommand}">
                            <Button.Style>
                                <Style TargetType="{x:Type Button}" BasedOn="{StaticResource ImageButton}">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding ShowNowPlayingButton}" Value="False">
                                            <Setter Property="Visibility" Value="Collapsed" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                            <Grid>
                                <Grid Width="36" Height="36" />
                                <Path Style="{DynamicResource IconPath}" Data="M26.425101,20.14001C26.755101,20.14001,27.025099,20.459962,27.025099,20.849904L27.025099,24.039433 27.025099,24.489367 27.025099,33.338061C27.025099,33.398051 27.025099,33.458045 27.015099,33.508036 27.1451,34.687861 26.4751,36.017665 25.205103,36.857543 23.545107,37.947379 21.475111,37.757407 20.595114,36.427603 19.715117,35.087802 20.355114,33.118094 22.01511,32.018256 23.245108,31.208375 24.675104,31.098391 25.705103,31.628314L25.705103,25.269252 14.415129,26.309098 14.415129,33.777995C14.825128,35.057807 14.155129,36.647574 12.715133,37.597434 11.045137,38.697268 8.9851412,38.507296 8.1051429,37.167495 7.2251452,35.827693 7.8651437,33.857985 9.5251402,32.758147 10.705138,31.988261 12.075134,31.858279 13.095131,32.308215L13.095131,25.669194 13.095131,25.659194 13.095131,22.019732C13.095131,21.62979,13.365131,21.319834,13.695131,21.319834z M3.3500725,3.5500028L3.3500725,43.440875 32.490929,43.440875 32.490929,12.480248 23.260682,12.480248 23.260682,3.5500028z M0,0L23.260682,0 25.150627,0 33.310898,7.9801524 35.841,10.460186 35.841,46.991 0,46.991z" Stretch="Uniform" Width="26" Height="26" RenderTransformOrigin="0.5,0.5">
                                </Path>
                            </Grid>
                        </Button>

                        <!--Search icon -->
                        <Button  Margin="0 0 30 0" Command="{Binding MasterCommands.SearchCommand}">

                            <Button.Style>
                                <Style TargetType="{x:Type Button}" BasedOn="{StaticResource ImageButton}">

                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding ShowSearchButton}" Value="False">
                                            <Setter Property="Visibility" Value="Collapsed" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                            
                            <Grid>
                                <Grid Width="36" Height="36" />
                                <Path Style="{DynamicResource IconPath}" Data="F1M54.8672,51.2266L42.1145,36.0703C44.2473,33.3333 45.6692,29.9946 46.0469,26.2942 47.1016,15.8333 39.4948,6.49219 29.0313,5.43213 18.5729,4.37231 9.2395,11.9868 8.17188,22.4453 7.10938,32.9036 14.7291,42.2446 25.1875,43.3098 28.6692,43.6563 32.0416,43.0469 35.0051,41.6797L47.9244,57.0547C49.5416,58.9634 52.401,59.2134 54.3125,57.6094 56.2266,55.9973 56.4766,53.1348 54.8672,51.2266 M15.9219,23.1614C16.5547,16.9399 22.1094,12.4087 28.3333,13.0391 34.5573,13.6719 39.0781,19.2266 38.4453,25.4426 37.8098,31.6692 32.2708,36.1953 26.0416,35.5703 19.8203,34.9399 15.2891,29.3828 15.9219,23.1614" Stretch="Uniform" Width="26" Height="26" Margin="0,0,0,0" RenderTransformOrigin="0.5,0.5">
                                </Path>
                            </Grid>
                        </Button>

                        <Button Margin="0 0 30 0" Command="{Binding MasterCommands.SettingsCommand}">
                            <Button.Style>
                                <Style TargetType="{x:Type Button}" BasedOn="{StaticResource ImageButton}">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding ShowSettingsButton}" Value="False">
                                            <Setter Property="Visibility" Value="Collapsed" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                            <Grid>
                                <Grid Width="36" Height="36" />
                                <Path Style="{DynamicResource IconPath}" Data="F1M-515.802,331.242C-515.789,329.857,-515.923,328.495,-516.128,327.172L-510.578,322.745C-512.008,317.424,-514.756,312.655,-518.482,308.812L-525.111,311.322C-527.209,309.586,-529.594,308.195,-532.179,307.198L-533.233,300.195C-535.788,299.515 -538.464,299.107 -541.237,299.086 -544.006,299.07 -546.686,299.44 -549.259,300.088L-550.396,307.078C-552.989,308.052,-555.398,309.403,-557.514,311.117L-564.117,308.526C-567.886,312.318,-570.696,317.047,-572.198,322.354L-566.702,326.846C-566.924,328.172 -567.071,329.531 -567.083,330.919 -567.093,332.318 -566.962,333.672 -566.752,335.005L-572.311,339.427C-570.872,344.742,-568.124,349.518,-564.398,353.354L-557.769,350.851C-555.674,352.581,-553.284,353.971,-550.698,354.976L-549.656,361.976C-547.092,362.659 -544.416,363.065 -541.647,363.086 -538.875,363.096 -536.198,362.729 -533.63,362.086L-532.482,355.088C-529.891,354.114,-527.484,352.763,-525.362,351.062L-518.771,353.651C-514.998,349.851,-512.192,345.12,-510.687,339.82L-516.182,335.333C-515.959,333.997,-515.814,332.643,-515.802,331.242z M-541.53,344.336C-548.84,344.292 -554.737,338.318 -554.689,331 -554.641,323.68 -548.673,317.784 -541.354,317.833 -534.035,317.88 -528.139,323.851 -528.187,331.172 -528.235,338.495 -534.205,344.385 -541.53,344.336z" Stretch="Uniform" Width="26" Height="26" RenderTransformOrigin="0.5,0.5">
                                </Path>
                            </Grid>
                        </Button>

                        <!--Display CurrentUser-->
                        <Button x:Name="CurrentUserButton" Margin="0 0 30 0" Width="70" Height="30" Command="{Binding MasterCommands.UserCommand}">
                            <Button.Style>
                                <Style TargetType="Button" BasedOn="{StaticResource ImageButton}">
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="{x:Type Button}">
                                                <Border>
                                                    <Grid x:Name="mainBackground">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="0.5*"></ColumnDefinition>
                                                            <ColumnDefinition Width="0.5*"></ColumnDefinition>
                                                        </Grid.ColumnDefinitions>
                                                        <Border Grid.Column="0">
                                                            <Grid>
                                                                <Image x:Name="currentUserImage" Stretch="Uniform" Source="{Binding UserImage}" HorizontalAlignment="Left"/>
                                                                <Grid x:Name="defaultUserImageGrid">
                                                                    <Grid/>
                                                                    <Path Style="{DynamicResource IconPath}" Data="M15.930851,36.710608C22.14356,36.647291 30.005098,41.570198 30.005098,41.570198 38.080673,46.45562 45.657448,38.281082 45.657448,38.281082 48.847534,35.288968 53.432121,42.865801 53.432121,42.865801 59.214702,51.040343 59.414001,64.000004 59.414001,64.000004L0,64.000004C2.092523,41.669198 12.360659,37.482978 12.360659,37.482978 13.423015,36.951675 14.64142,36.723749 15.930851,36.710608z M33.0965,0C42.015587,0 49.245998,7.8997269 49.245998,17.644449 49.245998,27.390621 42.015587,35.288998 33.0965,35.288999 24.177311,35.288998 16.947,27.390621 16.947,17.644449 16.947,7.8997269 24.177311,0 33.0965,0z" Stretch="Uniform" Width="26" Height="26" Margin="0,0,0,0" RenderTransformOrigin="0.5,0.5">
                                                                    </Path>
                                                                </Grid>
                                                            </Grid>
                                                        </Border>
                                                        <Border Grid.Column="1">
                                                            <Grid>
                                                                <Grid />
                                                                <Path x:Name="menuIcon" Style="{DynamicResource IconPath}" Data="M25.379999,0L30.405999,0 30.405999,30.406 25.379999,30.406z M12.69,0L17.716,0 17.716,30.406 12.69,30.406z M0,0L5.0259995,0 5.0259995,30.406 0,30.406z" Stretch="Uniform" Fill="#ffffff" Width="18" Height="18" Margin="0,0,0,0" RenderTransformOrigin="0.5,0.5">
                                                                    <Path.RenderTransform>
                                                                        <TransformGroup>
                                                                            <TransformGroup.Children>
                                                                                <RotateTransform Angle="90" />
                                                                                <ScaleTransform ScaleX="1" ScaleY="1" />
                                                                            </TransformGroup.Children>
                                                                        </TransformGroup>
                                                                    </Path.RenderTransform>
                                                                </Path>
                                                            </Grid>
                                                        </Border>
                                                    </Grid>
                                                </Border>
                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="true">
                                                        <Setter TargetName="mainBackground" Property="Background" Value="{StaticResource ButtonBackgroundPressed}" />
                                                    </Trigger>
                                                    <Trigger Property="IsKeyboardFocused" Value="true">
                                                        <Setter TargetName="mainBackground" Property="Background" Value="{StaticResource MediaBrowserAccent}" />
                                                        <Setter TargetName="menuIcon" Property="Fill" Value="White" />
                                                    </Trigger>
                                                    <Trigger Property="IsPressed" Value="true">
                                                        <Setter TargetName="mainBackground" Property="Background" Value="{StaticResource MediaBrowserAccent}" />
                                                        <Setter TargetName="menuIcon" Property="Fill" Value="White" />
                                                    </Trigger>
                                                    <DataTrigger Binding="{Binding ShowDefaultUserImage}" Value="False">
                                                        <Setter TargetName="defaultUserImageGrid" Property="Visibility" Value="Collapsed"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{Binding ShowDefaultUserImage}" Value="True">
                                                        <Setter TargetName="currentUserImage" Property="Visibility" Value="Collapsed"/>
                                                    </DataTrigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsLoggedIn}" Value="False">
                                            <Setter Property="Visibility" Value="Collapsed" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                        </Button>

                        <!--Display Clock-->
                        <TextBlock x:Name="CurrentTimeLeft"  Style="{StaticResource TextBlockStyle}" Text="{Binding TimeLeft}">
                        </TextBlock>
                        <TextBlock x:Name="CurrentTimeRight" Style="{StaticResource TextBlockStyle}" Text="{Binding TimeRight}" Foreground="{StaticResource MediaBrowserAccent}">
                        </TextBlock>
                    </StackPanel>

                </Grid>

                <!--Add the frame to hold the pages. The UI core expects this to appear somewhere within the template.-->
                <controls:PageContainer x:Name="PageContainer" Grid.Row="1" Grid.ColumnSpan="2"></controls:PageContainer>

            </Grid>
        </Grid>
    </ControlTemplate>

    <DataTemplate x:Key="ListItemTemplate" DataType="{x:Type viewModels:ItemViewModel}">
        <Grid>
            
            <Image HorizontalAlignment="Center" Source="{Binding Image}" Stretch="{Binding ImageStretch}" Visibility="{Binding ImageVisibility}">
            </Image>

            <Border Background="{DynamicResource PanelBackground}" Padding="10 0" Visibility="{Binding DefaultImageVisibility}">
                <TextBlock Style="{StaticResource TextBlockStyle}" Text="{Binding DisplayName}" VerticalAlignment="Center" HorizontalAlignment="Center" Foreground="{DynamicResource TextForegroundOverBackground}"></TextBlock>
            </Border>

            <StackPanel HorizontalAlignment="Stretch" VerticalAlignment="Bottom" Orientation="Vertical" Background="{DynamicResource TextBackground}">

                <TextBlock x:Name="TxtName" Foreground="{DynamicResource TextForegroundOverBackground}" Margin="10 5 10 0" TextWrapping="NoWrap" Text="{Binding DisplayName}" TextTrimming="CharacterEllipsis" MaxWidth="{Binding ImageWidth}" HorizontalAlignment="Left" Visibility="{Binding DisplayNameVisibility}" Style="{StaticResource TextBlockStyle}">
                </TextBlock>

                <ProgressBar x:Name="PlaybackProgress"  Minimum="0" Maximum="100" Value="{Binding PlayedPercentage, Mode=OneWay}" Margin="10 10 10 5">
                    <ProgressBar.Style>
                        <Style TargetType="{x:Type ProgressBar}" BasedOn="{StaticResource ResumeProgressBar}">
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding IsInProgress}" Value="False">
                                    <Setter Property="Visibility" Value="Collapsed" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding ItemType}" Value="BoxSet">
                                    <Setter Property="Visibility" Value="Collapsed" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding ItemType}" Value="Series">
                                    <Setter Property="Visibility" Value="Collapsed" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding ItemType}" Value="Season">
                                    <Setter Property="Visibility" Value="Collapsed" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding ItemType}" Value="MusicAlbum">
                                    <Setter Property="Visibility" Value="Collapsed" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding ItemType}" Value="GameSystem">
                                    <Setter Property="Visibility" Value="Collapsed" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </ProgressBar.Style>
                </ProgressBar>

                <TextBlock x:Name="TxtDuration" Foreground="{DynamicResource TextForegroundOverBackground}" Margin="10 5 10 0" TextWrapping="NoWrap" TextTrimming="CharacterEllipsis" Text="{Binding DurationShortTimeString}">
                    <TextBlock.Style>
                        <Style TargetType="{x:Type TextBlock}" BasedOn="{StaticResource TextBlockStyle}">
                            <Setter Property="Visibility" Value="Collapsed"></Setter>

                            <Style.Triggers>
                                <DataTrigger Binding="{Binding ListType}" Value="Trailers">
                                    <Setter Property="Visibility" Value="Visible" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding ListType}" Value="Themes">
                                    <Setter Property="Visibility" Value="Visible" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </TextBlock.Style>
                </TextBlock>

                <Grid Height="10">
                    <Grid.Style>
                        <Style TargetType="{x:Type Grid}">
                            <Setter Property="Visibility" Value="Collapsed" />
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding Visibility, ElementName=TxtName}" Value="Visible">
                                    <Setter Property="Visibility" Value="Visible" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Visibility, ElementName=PlaybackProgress}" Value="Visible">
                                    <Setter Property="Visibility" Value="Visible" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Visibility, ElementName=TxtDuration}" Value="Visible">
                                    <Setter Property="Visibility" Value="Visible" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </Grid.Style>
                </Grid>

            </StackPanel>

            <Grid VerticalAlignment="Top" HorizontalAlignment="Right" Width="50" Height="50">

                <Grid.Style>
                    <Style TargetType="{x:Type Grid}">
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding IsPlayed}" Value="False">
                                <Setter Property="Visibility" Value="Hidden" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Grid.Style>

                <Ellipse Style="{DynamicResource SpecialIndicatorEllipseStyle}"/>
                <Path Data="{DynamicResource WatchedTickPathData}"  Stretch="Uniform" Fill="#FFFFFFFF" Width="25" Height="25" Margin="0,0,0,0" RenderTransformOrigin="0.5,0.5">
                    <Path.RenderTransform>
                        <TransformGroup>
                            <TransformGroup.Children>
                                <RotateTransform Angle="0" />
                                <ScaleTransform ScaleX="1" ScaleY="1" />
                            </TransformGroup.Children>
                        </TransformGroup>
                    </Path.RenderTransform>
                </Path>
            </Grid>

            <Grid VerticalAlignment="Top" HorizontalAlignment="Right" Width="50" Height="50">

                <Grid.Style>
                    <Style TargetType="{x:Type Grid}">
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding ItemType}" Value="BoxSet">
                                <Setter Property="Visibility" Value="Visible" />
                            </DataTrigger>
                            <DataTrigger Binding="{Binding ItemType}" Value="Series">
                                <Setter Property="Visibility" Value="Visible" />
                            </DataTrigger>
                            <DataTrigger Binding="{Binding ItemType}" Value="Season">
                                <Setter Property="Visibility" Value="Visible" />
                            </DataTrigger>
                            <DataTrigger Binding="{Binding RecursiveUnplayedItemCount}" Value="0">
                                <Setter Property="Visibility" Value="Hidden" />
                            </DataTrigger>
                        </Style.Triggers>
                        <Style.Setters>
                            <Setter Property="Visibility" Value="Hidden"></Setter>
                        </Style.Setters>
                    </Style>
                </Grid.Style>

                <Ellipse Style="{DynamicResource SpecialIndicatorEllipseStyle}"/>
                <TextBlock Style="{StaticResource SmallTextBlockStyle}" Foreground="{DynamicResource TextForegroundOverBackground}" Text="{Binding RecursiveUnplayedItemCount}" HorizontalAlignment="Center" VerticalAlignment="Center" Padding="2,0,2,2"/>
            </Grid>
        </Grid>
    </DataTemplate>

    <DataTemplate x:Key="ListPageListViewItemTemplate" DataType="{x:Type viewModels:ItemViewModel}">

        <StackPanel Orientation="Vertical">
            <Grid Margin="5 5 15 5">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="auto"></ColumnDefinition>
                    <ColumnDefinition Width="*"></ColumnDefinition>
                    <ColumnDefinition Width="auto"></ColumnDefinition>
                </Grid.ColumnDefinitions>

                <Grid Grid.Column="0" Width="{Binding ImageWidth}" Height="{Binding ImageHeight}">
                    <Image Source="{Binding Image}" Stretch="{Binding ImageStretch}">
                        <Image.Style>
                            <Style TargetType="{x:Type Image}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding HasImage}" Value="False">
                                        <Setter Property="Visibility" Value="Hidden" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Image.Style>
                    </Image>
                </Grid>

                <TextBlock Style="{StaticResource TextBlockStyle}" Text="{Binding DisplayName}" Grid.Column="1" Margin="20 -5 90 0" MaxWidth="700" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBlock>

                <StackPanel Grid.Column="2" Orientation="Horizontal">

                    <TextBlock Background="{DynamicResource SpecialIndicatorBackground}" Foreground="{DynamicResource TextForegroundOverBackground}" Padding="10 5" Margin="10 0 0 0" Height="50" VerticalAlignment="Center" Text="MISSING">
                        <TextBlock.Style>
                            <Style TargetType="{x:Type TextBlock}" BasedOn="{StaticResource SmallTextBlockStyle}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsMissingEpisode}" Value="False">
                                        <Setter Property="Visibility" Value="Collapsed" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </TextBlock.Style>
                    </TextBlock>

                    <TextBlock Background="{DynamicResource SpecialIndicatorBackground}" Foreground="{DynamicResource TextForegroundOverBackground}" Padding="10 5" Margin="10 0 0 0" Height="50" VerticalAlignment="Center" Text="UNAIRED">
                        <TextBlock.Style>
                            <Style TargetType="{x:Type TextBlock}" BasedOn="{StaticResource SmallTextBlockStyle}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsVirtualUnairedEpisode}" Value="False">
                                        <Setter Property="Visibility" Value="Collapsed" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </TextBlock.Style>
                    </TextBlock>

                    <ProgressBar Minimum="0" Maximum="100" Value="{Binding PlayedPercentage, Mode=OneWay}" Margin="10 0 0 0" Width="100" Height="50">
                        <ProgressBar.Style>
                            <Style TargetType="{x:Type ProgressBar}" BasedOn="{StaticResource ResumeProgressBar}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsInProgress}" Value="False">
                                        <Setter Property="Visibility" Value="Collapsed" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding IsFolder}" Value="True">
                                        <Setter Property="Visibility" Value="Collapsed" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </ProgressBar.Style>
                    </ProgressBar>

                    <Grid Width="50" Height="50" Margin="10 0 0 0">

                        <Grid.Style>
                            <Style TargetType="{x:Type Grid}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsPlayed}" Value="False">
                                        <Setter Property="Visibility" Value="Collapsed" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Grid.Style>

                        <Ellipse Style="{DynamicResource SpecialIndicatorEllipseStyle}"/>
                        <Path Data="{DynamicResource WatchedTickPathData}"  Stretch="Uniform" Fill="#FFFFFFFF" Width="25" Height="25" Margin="0,0,0,0" RenderTransformOrigin="0.5,0.5">
                            <Path.RenderTransform>
                                <TransformGroup>
                                    <TransformGroup.Children>
                                        <RotateTransform Angle="0" />
                                        <ScaleTransform ScaleX="1" ScaleY="1" />
                                    </TransformGroup.Children>
                                </TransformGroup>
                            </Path.RenderTransform>
                        </Path>
                    </Grid>
                </StackPanel>
            </Grid>

            <Border Background="#a6666666" Height="2" Margin="0 0 0 0"></Border>
        </StackPanel>
    </DataTemplate>

    <Style x:Key="IndexMenuListBoxItemStyle" TargetType="{x:Type ListBoxItem}" BasedOn="{StaticResource BaseListBoxItemStyle}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ListBoxItem}">

                    <StackPanel Margin="50 0" Orientation="Horizontal">

                        <TextBlock Opacity=".3" x:Name="MenuText" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" Text="{Binding DisplayName}" Style="{StaticResource Heading1TextBlockStyle}"></TextBlock>
                    </StackPanel>

                    <ControlTemplate.Triggers>
                        <DataTrigger Binding="{Binding TabType}" Value="Alphabet">
                            <Setter TargetName="MenuText" Property="Margin" Value="15 0" />
                        </DataTrigger>
                        <Trigger Property="IsSelected" Value="true">
                             <Setter TargetName="MenuText" Property="Opacity" Value="1"/>
                            <Setter TargetName="MenuText" Property="Foreground" Value="{DynamicResource SelectedMenuItemForeground}"></Setter>
                        </Trigger>
                        <Trigger Property="IsKeyboardFocused" Value="true">
                            <Setter TargetName="MenuText" Property="Opacity" Value="1"/>
                            <Setter TargetName="MenuText" Property="TextBlock.TextDecorations" Value="Underline"/>
                            <Setter TargetName="MenuText" Property="Foreground" Value="{DynamicResource SelectedMenuItemForeground}"></Setter>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <DataTemplate x:Key="ListViewPeopleTemplate" DataType="{x:Type viewModels:ItemViewModel}">
        <StackPanel Orientation="Vertical">
           
                <TextBlock Style="{StaticResource TextBlockStyle}" Foreground="#ccc" Text="{Binding DisplayName}" Margin="0 10 10 0" MaxWidth="700" VerticalAlignment="Center" HorizontalAlignment="Left" TextWrapping="NoWrap" TextTrimming="CharacterEllipsis" />
         
        </StackPanel>
    </DataTemplate>

    <Style x:Key="AlphabetMenuListBoxItemStyle" TargetType="{x:Type ListBoxItem}" BasedOn="{StaticResource BaseListBoxItemStyle}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ListBoxItem}">

                    <StackPanel Margin="15 0" Orientation="Horizontal">
                        <TextBlock Opacity=".3" x:Name="MenuText" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" Text="{Binding DisplayName}" Style="{StaticResource Heading1TextBlockStyle}"></TextBlock>
                    </StackPanel>

                    <ControlTemplate.Triggers>
                        <Trigger Property="IsSelected" Value="true">
                            <Setter TargetName="MenuText" Property="Opacity" Value="1"/>
                            <Setter TargetName="MenuText" Property="Foreground" Value="{DynamicResource SelectedMenuItemForeground}"></Setter>
                        </Trigger>
                        <Trigger Property="IsKeyboardFocused" Value="true">
                            <Setter TargetName="MenuText" Property="Opacity" Value="1"/>
                            <Setter TargetName="MenuText" Property="TextBlock.TextDecorations" Value="Underline"/>
                            <Setter TargetName="MenuText" Property="Foreground" Value="{DynamicResource SelectedMenuItemForeground}"></Setter>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--List Page ListBox. -->
    <Style TargetType="controls:ExtendedListBox" x:Key="ListPageListBoxStyleWithVirtualization" BasedOn="{StaticResource ListBoxStyle}">
        <Style.Triggers>
            <DataTrigger Binding="{Binding ViewType}" Value="Poster">
                <Setter Property="ItemTemplate" Value="{StaticResource ListItemTemplate}"></Setter>
                <Setter Property="ItemContainerStyle" Value="{StaticResource HighlightedBorderListBoxItemStyle}"></Setter>
                <Setter Property="Margin" Value="0 0"></Setter>
                <Setter Property="ItemsPanel">
                    <Setter.Value>
                        <ItemsPanelTemplate>
                            <controls:VirtualizingWrapPanel ItemHeight="{Binding ItemContainerHeight}" ItemWidth="{Binding ItemContainerWidth}" HorizontalAlignment="Center" VerticalAlignment="Top" Margin="80 20">
                                <controls:VirtualizingWrapPanel.Style>
                                    <Style TargetType="{x:Type controls:VirtualizingWrapPanel}">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding ScrollDirection}" Value="Vertical">
                                                <Setter Property="Orientation" Value="Horizontal" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding ScrollDirection}" Value="Horizontal">
                                                <Setter Property="Orientation" Value="Vertical" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </controls:VirtualizingWrapPanel.Style>
                            </controls:VirtualizingWrapPanel>
                        </ItemsPanelTemplate>
                    </Setter.Value>
                </Setter>
            </DataTrigger>

            <DataTrigger Binding="{Binding ViewType}" Value="Thumbstrip">
                <Setter Property="ItemTemplate" Value="{StaticResource ListItemTemplate}"></Setter>
                <Setter Property="ItemContainerStyle" Value="{StaticResource HighlightedBorderListBoxItemStyle}"></Setter>
                <Setter Property="Margin" Value="0 0 0 0"></Setter>
                <Setter Property="ItemsPanel">
                    <Setter.Value>
                        <ItemsPanelTemplate>
                            <controls:VirtualizingWrapPanel ItemHeight="{Binding ItemContainerHeight}" ItemWidth="{Binding ItemContainerWidth}" Orientation="Vertical" HorizontalAlignment="Center" VerticalAlignment="Top" Margin="80 20">
                            </controls:VirtualizingWrapPanel>
                        </ItemsPanelTemplate>
                    </Setter.Value>
                </Setter>
            </DataTrigger>

            <DataTrigger Binding="{Binding ViewType}" Value="PosterStrip">
                <Setter Property="ItemTemplate" Value="{StaticResource ListItemTemplate}"></Setter>
                <Setter Property="ItemContainerStyle" Value="{StaticResource HighlightedBorderListBoxItemStyle}"></Setter>
                <Setter Property="Margin" Value="0 0 0 0"></Setter>
                <Setter Property="ItemsPanel">
                    <Setter.Value>
                        <ItemsPanelTemplate>
                            <controls:VirtualizingWrapPanel ItemHeight="{Binding ItemContainerHeight}" ItemWidth="{Binding ItemContainerWidth}" Orientation="Vertical" HorizontalAlignment="Center" VerticalAlignment="Top" Margin="80 20">
                            </controls:VirtualizingWrapPanel>
                        </ItemsPanelTemplate>
                    </Setter.Value>
                </Setter>
            </DataTrigger>

            <DataTrigger Binding="{Binding ViewType}" Value="List">
                <Setter Property="ItemTemplate" Value="{StaticResource ListPageListViewItemTemplate}"></Setter>
                <Setter Property="ItemContainerStyle" Value="{StaticResource HighlightedListBoxItemStyle}"></Setter>
                <Setter Property="Margin" Value="0 0 50 0"></Setter>
                <Setter Property="ItemsPanel">
                    <Setter.Value>
                        <ItemsPanelTemplate>
                            <VirtualizingStackPanel Orientation="Vertical" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                            </VirtualizingStackPanel>
                        </ItemsPanelTemplate>
                    </Setter.Value>
                </Setter>
            </DataTrigger>

            <DataTrigger Binding="{Binding ScrollDirection}" Value="Vertical">
                <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Disabled"></Setter>
                <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Hidden"></Setter>
            </DataTrigger>

            <DataTrigger Binding="{Binding ScrollDirection}" Value="Horizontal">
                <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Hidden"></Setter>
                <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Disabled"></Setter>
            </DataTrigger>

        </Style.Triggers>
    </Style>

    <Style TargetType="controls:ExtendedListBox" x:Key="ListPageListBoxStyle" BasedOn="{StaticResource ListBoxStyle}">

        <Style.Triggers>
            <DataTrigger Binding="{Binding ViewType}" Value="Poster">
                <Setter Property="ItemTemplate" Value="{StaticResource ListItemTemplate}"></Setter>
                <Setter Property="ItemContainerStyle" Value="{StaticResource HighlightedBorderListBoxItemStyle}"></Setter>
                <Setter Property="Margin" Value="0 0"></Setter>
                <Setter Property="ItemsPanel">
                    <Setter.Value>
                        <ItemsPanelTemplate>
                            <WrapPanel ItemHeight="{Binding ItemContainerHeight}" ItemWidth="{Binding ItemContainerWidth}" HorizontalAlignment="Center" VerticalAlignment="Top" Margin="80 20">
                                <WrapPanel.Style>
                                    <Style TargetType="{x:Type WrapPanel}">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding ScrollDirection}" Value="Vertical">
                                                <Setter Property="Orientation" Value="Horizontal" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding ScrollDirection}" Value="Horizontal">
                                                <Setter Property="Orientation" Value="Vertical" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </WrapPanel.Style>
                            </WrapPanel>
                        </ItemsPanelTemplate>
                    </Setter.Value>
                </Setter>
            </DataTrigger>

            <DataTrigger Binding="{Binding ViewType}" Value="Thumbstrip">
                <Setter Property="ItemTemplate" Value="{StaticResource ListItemTemplate}"></Setter>
                <Setter Property="ItemContainerStyle" Value="{StaticResource HighlightedBorderListBoxItemStyle}"></Setter>
                <Setter Property="Margin" Value="0 0 0 0"></Setter>
                <Setter Property="ItemsPanel">
                    <Setter.Value>
                        <ItemsPanelTemplate>
                            <WrapPanel ItemHeight="{Binding ItemContainerHeight}" ItemWidth="{Binding ItemContainerWidth}" Orientation="Vertical" HorizontalAlignment="Center" VerticalAlignment="Top" Margin="80 20">
                            </WrapPanel>
                        </ItemsPanelTemplate>
                    </Setter.Value>
                </Setter>
            </DataTrigger>

            <DataTrigger Binding="{Binding ViewType}" Value="PosterStrip">
                <Setter Property="ItemTemplate" Value="{StaticResource ListItemTemplate}"></Setter>
                <Setter Property="ItemContainerStyle" Value="{StaticResource HighlightedBorderListBoxItemStyle}"></Setter>
                <Setter Property="Margin" Value="0 0 0 0"></Setter>
                <Setter Property="ItemsPanel">
                    <Setter.Value>
                        <ItemsPanelTemplate>
                            <WrapPanel ItemHeight="{Binding ItemContainerHeight}" ItemWidth="{Binding ItemContainerWidth}" Orientation="Vertical" HorizontalAlignment="Center" VerticalAlignment="Top" Margin="80 20">
                            </WrapPanel>
                        </ItemsPanelTemplate>
                    </Setter.Value>
                </Setter>
            </DataTrigger>

            <DataTrigger Binding="{Binding ViewType}" Value="List">
                <Setter Property="ItemTemplate" Value="{StaticResource ListPageListViewItemTemplate}"></Setter>
                <Setter Property="ItemContainerStyle" Value="{StaticResource HighlightedListBoxItemStyle}"></Setter>
                <Setter Property="Margin" Value="0 0 50 0"></Setter>
                <Setter Property="ItemsPanel">
                    <Setter.Value>
                        <ItemsPanelTemplate>
                            <VirtualizingStackPanel Orientation="Vertical" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                            </VirtualizingStackPanel>
                        </ItemsPanelTemplate>
                    </Setter.Value>
                </Setter>
            </DataTrigger>

        </Style.Triggers>
    </Style>

    <DataTemplate x:Key="ListPageListBoxTemplate" DataType="{x:Type viewModels:ItemListViewModel}">

        <controls:ExtendedScrollViewer HorizontalAlignment="Stretch" KeyboardNavigation.IsTabStop="False" Focusable="False" VerticalAlignment="Stretch" CanContentScroll="True">

            <controls:ExtendedScrollViewer.Style>
                <Style TargetType="{x:Type controls:ExtendedScrollViewer}">

                    <Setter Property="HorizontalScrollBarVisibility" Value="Hidden"></Setter>
                    <Setter Property="VerticalScrollBarVisibility" Value="Disabled"></Setter>

                    <Style.Triggers>

                        <DataTrigger Binding="{Binding ScrollDirection}" Value="Vertical">
                            <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Disabled"></Setter>
                            <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Hidden"></Setter>
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </controls:ExtendedScrollViewer.Style>

            <controls:ScrollingPanel>

                <controls:ScrollingPanel.Style>
                    <Style TargetType="{x:Type controls:ScrollingPanel}">
                        <Setter Property="CanHorizontallyScroll" Value="True"></Setter>
                        <Setter Property="CanVerticallyScroll" Value="False"></Setter>
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding ScrollDirection}" Value="Vertical">
                                <Setter Property="CanHorizontallyScroll" Value="False"></Setter>
                                <Setter Property="CanVerticallyScroll" Value="True"></Setter>
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </controls:ScrollingPanel.Style>

                <controls:ExtendedListBox Command="{Binding NavigateCommand}" Style="{StaticResource ListPageListBoxStyle}" ItemsSource="{Binding ListCollectionView}" ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Disabled">
                </controls:ExtendedListBox>
            </controls:ScrollingPanel>

        </controls:ExtendedScrollViewer>

    </DataTemplate>

    <DataTemplate x:Key="ListPageListBoxTemplateWithVirtualization" DataType="{x:Type viewModels:ItemListViewModel}">

        <controls:ExtendedListBox Command="{Binding NavigateCommand}" Style="{StaticResource ListPageListBoxStyleWithVirtualization}" ItemsSource="{Binding ListCollectionView}">
        </controls:ExtendedListBox>

    </DataTemplate>

</ResourceDictionary>